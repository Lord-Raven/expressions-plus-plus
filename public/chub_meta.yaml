# All of these fields are optional, as is this file itself,
#   in which case these values can be managed in the UI.

# The name of the extension.
project_name: "Expression Packs++"

# A short tagline to show in search.
tagline: "Shows character emotions based on a set of images.++"

# A longer explanation. Supports Markdown format.
creator_notes: "
This is a shameless knock-off of the [official Expression Packs stage](https://chub.ai/extensions/BartlebyTheScrivener/expressions-extension-768927333d4d). 
You can add this stage to any chat by searching for it under Stages in Chat Settings, but you may want to read some of this beforehand.  

### No Expression Pack Support 

_However_, unlike that stage, this one doesn't actually support expression packs; they appear to currently be locked to the official stage. Write your congressperson. 
When this changes, I'll update this stage to use the character's pack by default.  

### So, Uh, What Is This, Then? 

This stage generates its own expression images by producing a visual description of each character and 
then making image generation calls to produce various emotional states.  

The system works with any single-character bot or even personae, but _it uses lots of image generation credits_ (unless you have a Mars subscription, which is unlimited), and your mileage may vary quality-wise. 
Images may initially take time to appear as they must be generated; they are lazy loaded, so they don't hold up the chat so much. 
You can regenerate individual images and create different \"outfits\" using the characters settings in the upper-right corner.  

This stage also generates background images based on the scene. These are not lazy loaded because it causes saving issues and they can easily become out of sync. 
They can add quite a bit of load time to responses when they occur, but they can be disabled from the stage's configuration menu.

From the configuration menu, you can also alter the basic art style element of the stage's image prompts, to attempt to taylor the style to suit your aesthetic.  

### Improvements Over the Original 

<li>This stage discards neutral emotion determinations when a secondary emotion is over a certain threshold, which causes characters to appear more expressive.<br>
<li>This stage can be used with any character, without manual effort by the author.<br>
<li>This stage has some fancy multi-character support. You will need to refresh the chat after adding a new character, though.<br>
<li>This stage supports persona images.<br>
<li>This stage allows you to toggle character outfits or visibility from within the stage UI itself.<br>
<li>This stage adds backgrounds.<br>

### Disimprovements Under the Original 

<li>This stage does not support actual expression packs.<br>
<li>If you don't have a Mars subscription, this could use an exorbitant amount of credits.<br>

### External Dependencies 

This stage leverages [SamLowe/roberta-base-go_emotions](https://huggingface.co/SamLowe/roberta-base-go_emotions) for emotion inference ([my HF space for this](https://huggingface.co/spaces/Ravenok/emotions)) 
and [MoritzLaurer/ModernBERT-large-zeroshot-v2.0](https://huggingface.co/MoritzLaurer/ModernBERT-large-zeroshot-v2.0) for zero-shot classification ([my HF space for that](https://huggingface.co/spaces/Ravenok/statosphere-backend)).

### Updates 

<ul>
<li>2025.06.28
<ul>
<li>User support
<li>Outfit management.
<li>Multi-character or narrator bots are no longer represented, to avoid confusing situations. Backgrounds and additional characters still function.
<li>Images are now generated as-needed, which can mean a delay in initial use, but you can still manually pre-load them from character management.
<li>Visibility toggles for characters.
<li>Various prompt improvements.
</ul>
</ul>
"

# 'PUBLIC', 'PRIVATE', or 'UNLISTED'.
visibility: 'PUBLIC'

position: 'ADJACENT'

# Self-explanatory.
tags:
 - 'Extension'
 - 'Expressions'
 - 'Expression Packs'
 - 'Emotions'
 - 'Stage'
 - 'Add-on'

config_schema:
  title: Expressions Config
  type: object
  properties:
    generateCharacters:
      title: Generate Character Art
      description: Automatically generate an expression pack for characters (will expend daily credits); this is basically all the stage currently does, so maybe leave this one on.
      type: boolean
      default: "True"
      enum: ["True", "False"]
    generateBackgrounds:
      title: Generate Background Art
      description: Automatically generate backgrounds during scene changes.
      type: string
      default: "True"
      enum: ["True", "False"]
    artStyle:
      title: Art Style
      description: A brief description of the desired character art style.
      type: string
      default: "Bold, visual novel style illustration, clean lines"

github_path: 'https://github.com/Lord-Raven/expressions-plus-plus'

extension_id: 'expressions-plus-plus-a8db5f0bd422'
